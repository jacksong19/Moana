# ç½‘é¡µç‰ˆåˆ›ä½œåŠŸèƒ½è®¾è®¡æ–‡æ¡£

## æ¦‚è¿°

ä¸ºç½‘é¡µç‰ˆæ·»åŠ å®Œæ•´çš„åˆ›ä½œåŠŸèƒ½ï¼ŒåŒ…æ‹¬ç»˜æœ¬ã€å„¿æ­Œã€è§†é¢‘å’Œæ™ºèƒ½åˆ›ä½œå››ç§ç±»å‹ï¼Œä¿æŒä¸å°ç¨‹åºä¸€è‡´çš„æ¢¦å¹»é£æ ¼å’Œæ­¥éª¤å‘å¯¼äº¤äº’ã€‚

## è®¾è®¡å†³ç­–

| é—®é¢˜ | å†³ç­– |
|-----|------|
| åŠŸèƒ½èŒƒå›´ | å…¨éƒ¨ 4 ç§ï¼šç»˜æœ¬ + å„¿æ­Œ + è§†é¢‘ + æ™ºèƒ½åˆ›ä½œ |
| UI é£æ ¼ | æ¢¦å¹»æ¸å˜é£æ ¼ï¼Œä¸å°ç¨‹åºä¿æŒä¸€è‡´ |
| å…¥å£æ–¹å¼ | ä¾§è¾¹æ  + Dashboard å¿«æ·å¡ç‰‡ |
| äº¤äº’æµç¨‹ | å¤šæ­¥éª¤å‘å¯¼ï¼Œä¸å°ç¨‹åºä¸€è‡´ |

## é¡µé¢ç»“æ„

```
web/src/
â”œâ”€â”€ views/
â”‚   â””â”€â”€ create/
â”‚       â”œâ”€â”€ Index.vue           # åˆ›ä½œä¸­å¿ƒé¦–é¡µï¼ˆ4ç§ç±»å‹å…¥å£ï¼‰
â”‚       â”œâ”€â”€ PictureBook.vue     # ç»˜æœ¬åˆ›ä½œï¼ˆ4æ­¥å‘å¯¼ï¼‰
â”‚       â”œâ”€â”€ NurseryRhyme.vue    # å„¿æ­Œåˆ›ä½œï¼ˆ3æ­¥å‘å¯¼ï¼‰
â”‚       â”œâ”€â”€ Video.vue           # è§†é¢‘åˆ›ä½œï¼ˆ3æ­¥å‘å¯¼ï¼‰
â”‚       â””â”€â”€ Smart.vue           # æ™ºèƒ½åˆ›ä½œ
â”œâ”€â”€ components/
â”‚   â””â”€â”€ create/
â”‚       â”œâ”€â”€ StepIndicator.vue   # æ­¥éª¤æŒ‡ç¤ºå™¨ï¼ˆé€šç”¨ï¼‰
â”‚       â”œâ”€â”€ ThemeSelector.vue   # ä¸»é¢˜é€‰æ‹©å™¨ï¼ˆé€šç”¨ï¼‰
â”‚       â”œâ”€â”€ StyleSelector.vue   # é£æ ¼é€‰æ‹©å™¨
â”‚       â”œâ”€â”€ GeneratingModal.vue # ç”Ÿæˆä¸­å¼¹çª—ï¼ˆè½®è¯¢çŠ¶æ€ï¼‰
â”‚       â””â”€â”€ ...
â”œâ”€â”€ stores/
â”‚   â””â”€â”€ create.ts               # åˆ›ä½œçŠ¶æ€ç®¡ç†
â””â”€â”€ router/
    â””â”€â”€ index.ts                # æ–°å¢ /create/* è·¯ç”±
```

## è·¯ç”±è§„åˆ’

```typescript
// æ–°å¢è·¯ç”±
{ path: '/create', name: 'Create', component: CreateIndex }
{ path: '/create/picture-book', name: 'CreatePictureBook', component: CreatePictureBook }
{ path: '/create/nursery-rhyme', name: 'CreateNurseryRhyme', component: CreateNurseryRhyme }
{ path: '/create/video', name: 'CreateVideo', component: CreateVideo }
{ path: '/create/smart', name: 'CreateSmart', component: CreateSmart }
```

## å…¥å£è®¾è®¡

### 1. ä¾§è¾¹æ 

åœ¨ã€Œä»ªè¡¨ç›˜ã€ä¹‹åæ·»åŠ ã€Œåˆ›ä½œä¸­å¿ƒã€å…¥å£ï¼š

```
ğŸ“Š ä»ªè¡¨ç›˜
âœ¨ åˆ›ä½œä¸­å¿ƒ  â† æ–°å¢
ğŸ“š å†…å®¹åº“
â­ æˆ‘çš„æ”¶è—
ğŸ“ˆ å­¦ä¹ æŠ¥å‘Š
ğŸ‘¶ å­©å­ç®¡ç†
âš™ï¸ è®¾ç½®
```

### 2. Dashboard å¿«æ·å¡ç‰‡

åœ¨ä»ªè¡¨ç›˜æ·»åŠ ã€Œå¼€å§‹åˆ›ä½œã€åŒºåŸŸï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ¨ å¼€å§‹åˆ›ä½œ                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“–      â”‚  ğŸµ      â”‚  ğŸ¬      â”‚  ğŸª„      â”‚
â”‚  ç»˜æœ¬    â”‚  å„¿æ­Œ    â”‚  è§†é¢‘    â”‚  æ™ºèƒ½    â”‚
â”‚  åˆ›ä½œ    â”‚  åˆ›ä½œ    â”‚  åˆ›ä½œ    â”‚  åˆ›ä½œ    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## åˆ›ä½œæµç¨‹

### ç»˜æœ¬åˆ›ä½œï¼ˆ4 æ­¥ï¼‰

| æ­¥éª¤ | å†…å®¹ |
|-----|------|
| 1. é€‰æ‹©ä¸»é¢˜ | åˆ†ç±» Tab + ä¸»é¢˜å¡ç‰‡ç½‘æ ¼ |
| 2. é£æ ¼è®¾ç½® | è‰ºæœ¯é£æ ¼ + ä¸»è§’é€‰æ‹© + æ•™è‚²æ ‡ç­¾ |
| 3. ç¡®è®¤æ•…äº‹ | é¢„è§ˆç”Ÿæˆçš„æ•…äº‹å¤§çº² |
| 4. ç”Ÿæˆä¸­ | è¿›åº¦å±•ç¤º â†’ å®Œæˆè·³è½¬æ’­æ”¾ |

### å„¿æ­Œåˆ›ä½œï¼ˆ3 æ­¥ï¼‰

| æ­¥éª¤ | å†…å®¹ |
|-----|------|
| 1. é€‰æ‹©çµæ„Ÿ | åˆ†ç±» + çµæ„Ÿå¡ç‰‡ |
| 2. å‚æ•°é…ç½® | æ­Œè¯é£æ ¼ã€éŸ³ä¹é£æ ¼ã€éŸ³è‰² |
| 3. ç”Ÿæˆä¸­ | Suno å¼‚æ­¥ç”Ÿæˆ â†’ è½®è¯¢ â†’ å®Œæˆ |

### è§†é¢‘åˆ›ä½œï¼ˆ3 æ­¥ï¼‰

| æ­¥éª¤ | å†…å®¹ |
|-----|------|
| 1. é€‰æ‹©ä¸»é¢˜ | è§†é¢‘ä¸»é¢˜åˆ†ç±» |
| 2. é£æ ¼å‚æ•° | è¿åŠ¨é£æ ¼ã€æ—¶é•¿ã€æ¯”ä¾‹ |
| 3. ç”Ÿæˆä¸­ | VEO ç”Ÿæˆ â†’ è½®è¯¢ â†’ å®Œæˆ |

### æ™ºèƒ½åˆ›ä½œ

å•é¡µ AI çµæ„Ÿæ¨è â†’ é€‰æ‹©ç±»å‹ â†’ è·³è½¬å¯¹åº”åˆ›ä½œæµç¨‹

## API å¤ç”¨

ä»å°ç¨‹åº `miniprogram/src/api/content.ts` ç§»æ¤ä»¥ä¸‹ APIï¼š

```typescript
// ä¸»é¢˜å’Œé£æ ¼
getThemes()
getStyleOptions()

// ç»˜æœ¬
generatePictureBookAsync(params)
getPictureBookTaskStatus(taskId)

// å„¿æ­Œ
generateNurseryRhymeAsync(params)
getNurseryRhymeTaskStatus(taskId)

// è§†é¢‘
generateVideoAsync(params)
getVideoTaskStatus(taskId)
generateStandaloneVideoAsync(params)
generateFirstFrame(params)
```

## ç”ŸæˆçŠ¶æ€è½®è¯¢

```
ç”¨æˆ·æäº¤ â†’ è°ƒç”¨ async API â†’ è·å¾— taskId
    â†“
è½®è¯¢ getTaskStatus(taskId) æ¯ 3 ç§’
    â†“
çŠ¶æ€: pending â†’ processing â†’ completed/failed
    â†“
completed â†’ è·³è½¬æ’­æ”¾é¡µ /play/:type/:id
```

## çŠ¶æ€ç®¡ç†

ä½¿ç”¨ Pinia store ç®¡ç†åˆ›ä½œçŠ¶æ€ï¼š

```typescript
// stores/create.ts
interface CreateState {
  // å½“å‰æ­¥éª¤
  currentStep: number

  // ç»˜æœ¬å‚æ•°
  pictureBook: {
    themeCategory: string
    themeTopic: string
    artStyle: string
    protagonist: ProtagonistConfig
    // ...
  }

  // å„¿æ­Œå‚æ•°
  nurseryRhyme: { ... }

  // è§†é¢‘å‚æ•°
  video: { ... }

  // ç”Ÿæˆä»»åŠ¡
  currentTaskId: string | null
  generatingStatus: 'idle' | 'pending' | 'processing' | 'completed' | 'failed'
  generatingProgress: number
}
```

## å®ç°é¡ºåº

1. åŸºç¡€è®¾æ–½ï¼šè·¯ç”±ã€APIã€çŠ¶æ€ç®¡ç†
2. é€šç”¨ç»„ä»¶ï¼šStepIndicatorã€ThemeSelectorã€GeneratingModal
3. åˆ›ä½œé¡µé¢ï¼šç»˜æœ¬ â†’ å„¿æ­Œ â†’ è§†é¢‘ â†’ æ™ºèƒ½åˆ›ä½œ
4. å…¥å£æ›´æ–°ï¼šä¾§è¾¹æ ã€Dashboard

## æ—¥æœŸ

2025-12-28
