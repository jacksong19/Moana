<script setup lang="ts">
import { onLaunch, onShow, onHide } from '@dcloudio/uni-app'
import { useUserStore } from '@/stores/user'

onLaunch(async () => {
  console.log('ğŸŒŠ Moana App Launch')

  // å°è¯•è‡ªåŠ¨ç™»å½•
  const userStore = useUserStore()
  const token = uni.getStorageSync('access_token')

  if (token) {
    try {
      await userStore.fetchUser()
    } catch (e) {
      console.log('è‡ªåŠ¨ç™»å½•å¤±è´¥ï¼Œéœ€è¦é‡æ–°ç™»å½•')
    }
  }
})

onShow(() => {
  console.log('ğŸŒŠ Moana App Show')
})

onHide(() => {
  console.log('ğŸŒŠ Moana App Hide')
})
</script>

<style lang="scss">
/* å…¨å±€æ ·å¼å·²åœ¨ uni.scss ä¸­å¼•å…¥ */
</style>
